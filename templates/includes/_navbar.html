<header class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow">
    <a class="navbar-brand col-md-3 col-lg-2 me-0 px-3" href="{{ url_for('site.index') }}">Key Inventory Tracker</a>
    <button class="navbar-toggler position-absolute d-md-none collapsed" type="button" data-bs-toggle="collapse"
        data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="navbar-nav">
        <div class="nav-item text-nowrap">

            {% block content %}

            {% if first_name %}
                <a class="btn-outline-secondary nav-link fs-6 px-3" data-bs-toggle="modal" data-bs-target="#connectionModal"
                    href="{{ url_for('site.index') }}">Hello {{ first_name }}</a>
                
                <div class="modal fade" id="connectionModal" tabindex="-1" aria-labelledby="connectionModalLabel" aria-hidden="true"
                    data-bs-backdrop="static" data-bs-keyboard="false">
                
                    <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content">
                            <div class="modal-header">
                                <i class="ion-android-alert mr-1" aria-hidden="true"></i>
                                <h5 class="modal-title" id="connectionModalLabel">Connected to Advanced Scheduler</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <p>You are logged in as {{ first_name }} {{ last_name }}.</p>
                            </div>
                            <div class="modal-footer">
                                <a href="{{ url_for('site.logout') }}" class="btn btn-secondary">Logout</a>
                                <a class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="#exampleModalToggle2"
                                    data-bs-dismiss="modal">Change User</a>
                                <a class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="#exampleModalToggle3" data-bs-dismiss="modal">Change
                                    Password</a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal fade" id="exampleModalToggle2" aria-hidden="true" aria-labelledby="exampleModalToggleLabel2"
                    tabindex="-1">
                    <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content">
                            <div class="modal-header">
                                <i class="ion-android-alert mr-1" aria-hidden="true"></i>
                                <h5 class="modal-title" id="exampleModalToggleLabel2">Change to Different User<h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                
                                <form name="frm1" action="{{ url_for('site.login') }}" method="POST">
                                    {{ form.hidden_tag() }}
                                
                                    {% for message in get_flashed_messages() %}
                                    <div class="alert alert-warning alert-dismissible fade show col-md-12" role="alert">
                                        {{ message }}
                                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                    </div>
                                
                                    {% endfor %}
                                
                                    <div class="mb-3">
                                        {{ form.username.label(class="col-form-label") }}
                                        {{ form.username(class="form-control") }}

                                    </div>
                                    <div class="mb-3">
                                        {{ form.password.label(class="col-form-label") }}
                                        {{ form.password(class="form-control") }}

                                    </div>
                                    <div class="modal-footer">
                                        {{ form.submit(class="btn btn-primary") }}
                                        <button id="updateComplete" type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                    </div>
                                </form>

                            </div>

                        </div>
                    </div>
                </div>

                <div class="modal fade" id="exampleModalToggle3" aria-hidden="true" aria-labelledby="exampleModalToggleLabel2"
                    tabindex="-1">
                    <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content">
                            <div class="modal-header">
                                <i class="ion-android-alert mr-1" aria-hidden="true"></i>
                                <h5 class="modal-title" id="exampleModalToggleLabel2">Change Password</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                To Be Added in the Future

                            </div>
                            <div class="modal-footer">
                                <button id="updateComplete" type="button" class="btn btn-secondary"
                                    data-bs-dismiss="modal">Close</button>
                            </div>
                        </div>
                    </div>
                </div>
                
            {% endif %}

            {% endblock %}

        </div>
    </div>
</header>
